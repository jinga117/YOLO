<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kosta.yolo.dao.TripPlanMapper">
	<insert id="tripPlan" parameterType="com.kosta.yolo.vo.TripPlanVO">
		INSERT INTO TripPlan VALUES(#{plan_no}, #{user_id}, #{trip_start}, 
		#{trip_id_1}, #{trip_nickname_1}, #{trip_plan_pay_1}, #{trip_plan_memo_1},
		#{trip_id_2}, #{trip_nickname_2}, #{trip_plan_pay_2}, #{trip_plan_memo_2}, 
		#{trip_id_3}, #{trip_nickname_3}, #{trip_plan_pay_3}, #{trip_plan_memo_3})
	</insert>
	
	<!-- 추천일정 전체 리스트 -->
       <select id="RecommAll"  resultType="com.kosta.yolo.vo.TripInfoVO">
          SELECT * FROM TripInfo t, Recommand r WHERE t.trip_id = r.trip_id AND re_num LIKE concat("%",#{re_num},"%")
       </select>
       
       <!-- 추천일정 상세보기 리스트 -->
       <select id="RecommOnum"  resultType="com.kosta.yolo.vo.TripInfoVO" >
          SELECT * FROM TripInfo t, Recommand r WHERE t.trip_id = r. trip_id AND re_onum = #{re_onum}
       </select>
</mapper>